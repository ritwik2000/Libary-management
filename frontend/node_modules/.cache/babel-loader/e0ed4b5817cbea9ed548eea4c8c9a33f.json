{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Ritwik\\\\Downloads\\\\jyoti\\\\Library-Management-System-master\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"C:\\\\Users\\\\Ritwik\\\\Downloads\\\\jyoti\\\\Library-Management-System-master\\\\frontend\\\\src\\\\components\\\\Issue\\\\Issue.js\";\nimport React from 'react';\nimport './Issue.css';\n\nclass Books extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      header: React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 7\n        },\n        __self: this\n      }),\n      books: []\n    };\n\n    this.fetchData = () => {\n      var sem = document.getElementById('select').value;\n      this.setState({\n        header: React.createElement(\"thead\", {\n          id: \"header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 13\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 14\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 15\n          },\n          __self: this\n        }, \"Book Name\"), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 16\n          },\n          __self: this\n        }, \"Author\"), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 17\n          },\n          __self: this\n        }, \"Semester No\"), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 18\n          },\n          __self: this\n        }))),\n        books: []\n      });\n      fetch(`/api/getBooks/${sem}`).then(res => res.json()).then(books => books.forEach(el => this.setState({\n        books: [...this.state.books, React.createElement(\"tr\", {\n          key: el.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 29\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 30\n          },\n          __self: this\n        }, el.name.toUpperCase()), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 31\n          },\n          __self: this\n        }, el.author), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 32\n          },\n          __self: this\n        }, el.semester), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: () => this.issueIt(el),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33\n          },\n          __self: this\n        }, \"Issue\")))]\n      })));\n    };\n\n    this.issueIt = el => {\n      fetch('/api/borrow', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(_objectSpread({}, el, {\n          sid: parseInt(document.getElementById('id').value)\n        }))\n      });\n      /*.then(res => {\r\n           fetch('/api/borrowed')\r\n           .then(res => res.json())\r\n           .then(e => console.log(e));\r\n      });*/\n    };\n  }\n\n  componentDidMount() {\n    if (document.getElementById('id').value === '') document.getElementById('select').disabled = true;else document.getElementById('select').disabled = false;\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"issue\",\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"form-control sel\",\n      type: \"number\",\n      placeholder: \"Enter Student ID\",\n      id: \"id\",\n      min: \"1\",\n      onChange: this.componentDidMount,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(\"select\", {\n      className: \"form-control sel\",\n      id: \"select\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Select Semester\"), React.createElement(\"option\", {\n      value: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"1st Sem\"), React.createElement(\"option\", {\n      value: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"2nd Sem\"), React.createElement(\"option\", {\n      value: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"3rd Sem\"), React.createElement(\"option\", {\n      value: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"4th Sem\"), React.createElement(\"option\", {\n      value: \"5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"5th Sem\"), React.createElement(\"option\", {\n      value: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"6th Sem\"), React.createElement(\"option\", {\n      value: \"7\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"7th Sem\"), React.createElement(\"option\", {\n      value: \"8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"8th Sem\")), React.createElement(\"button\", {\n      className: \"btn btn-success\",\n      onClick: this.fetchData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Submit\")), React.createElement(\"table\", {\n      id: \"results\",\n      className: \"table table-hover\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, this.state.header, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, this.state.books)));\n  }\n\n}\n\nexport default Books;","map":{"version":3,"sources":["C:/Users/Ritwik/Downloads/jyoti/Library-Management-System-master/frontend/src/components/Issue/Issue.js"],"names":["React","Books","Component","state","header","books","fetchData","sem","document","getElementById","value","setState","fetch","then","res","json","forEach","el","id","name","toUpperCase","author","semester","issueIt","method","headers","body","JSON","stringify","sid","parseInt","componentDidMount","disabled","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './Issue.css';\r\n\r\nclass Books extends React.Component {\r\n    \r\n    state = {\r\n        header: <thead></thead>,\r\n        books: []\r\n    };\r\n\r\n    fetchData = () => {\r\n        var sem = document.getElementById('select').value;\r\n        this.setState({header: <thead id=\"header\">\r\n                        <tr>\r\n                            <th scope=\"col\">Book Name</th>\r\n                            <th scope=\"col\">Author</th>\r\n                            <th scope=\"col\">Semester No</th>\r\n                            <th scope=\"col\"></th>\r\n                        </tr>\r\n                    </thead>,\r\n            books: []});\r\n\r\n        fetch(`/api/getBooks/${sem}`)\r\n            .then(res => res.json())\r\n            .then(books =>\r\n                books.forEach(\r\n                    el => this.setState({\r\n                        books: [...this.state.books, \r\n                                <tr key={el.id}>\r\n                                    <td>{el.name.toUpperCase()}</td>\r\n                                    <td>{el.author}</td>\r\n                                    <td>{el.semester}</td>\r\n                                    <td><button className=\"btn btn-primary\" onClick={() => this.issueIt(el)}>Issue</button></td>\r\n                                </tr>]\r\n                    })));\r\n    }\r\n    \r\n    componentDidMount() {\r\n        if(document.getElementById('id').value === '')\r\n            document.getElementById('select').disabled = true;\r\n        else\r\n            document.getElementById('select').disabled = false;\r\n    }\r\n\r\n    issueIt = el => {\r\n        fetch('/api/borrow', {\r\n                method: 'post',\r\n                headers: {'Content-Type':'application/json'},\r\n                body: JSON.stringify({\r\n                    ...el,\r\n                    sid: parseInt(document.getElementById('id').value)\r\n                })\r\n           });\r\n           /*.then(res => {\r\n                fetch('/api/borrowed')\r\n                .then(res => res.json())\r\n                .then(e => console.log(e));\r\n           });*/\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id='issue' className=\"text-center\">\r\n                <div>\r\n                    <input className=\"form-control sel\" type=\"number\" placeholder=\"Enter Student ID\" id=\"id\" min=\"1\" onChange={this.componentDidMount}></input>\r\n                    <select className=\"form-control sel\" id=\"select\">\r\n                        <option disabled>Select Semester</option>\r\n                        <option value=\"1\">1st Sem</option>\r\n                        <option value=\"2\">2nd Sem</option>\r\n                        <option value=\"3\">3rd Sem</option>\r\n                        <option value=\"4\">4th Sem</option>\r\n                        <option value=\"5\">5th Sem</option>\r\n                        <option value=\"6\">6th Sem</option>\r\n                        <option value=\"7\">7th Sem</option>\r\n                        <option value=\"8\">8th Sem</option>\r\n                    </select>\r\n                    <button className=\"btn btn-success\" onClick={this.fetchData}>Submit</button>\r\n                </div>\r\n                <table id=\"results\" className=\"table table-hover\">\r\n                    {this.state.header}\r\n                    <tbody>\r\n                        {this.state.books}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default Books;"]},"metadata":{},"sourceType":"module"}