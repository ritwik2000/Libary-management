{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Ritwik\\\\Downloads\\\\jyoti\\\\Library-Management-System-master\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"C:\\\\Users\\\\Ritwik\\\\Downloads\\\\jyoti\\\\Library-Management-System-master\\\\frontend\\\\src\\\\components\\\\Return\\\\Return.js\";\nimport React from 'react';\nimport './Return.css';\n\nclass Return extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      header: React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 7\n        },\n        __self: this\n      }),\n      books: [],\n      name: ''\n    };\n\n    this.fetchData = () => {\n      var sid = document.getElementById('sid').value;\n      this.setState({\n        header: React.createElement(\"thead\", {\n          id: \"header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 14\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 15\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 16\n          },\n          __self: this\n        }, \"Book Name\"), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 17\n          },\n          __self: this\n        }, \"Author\"), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 18\n          },\n          __self: this\n        }, \"Semester No\"), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 19\n          },\n          __self: this\n        }, \"Issue Date\"), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 20\n          },\n          __self: this\n        }, \"Return Deadline\"), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 21\n          },\n          __self: this\n        }))),\n        books: []\n      });\n      fetch(`/api/getIssues/${sid}`).then(res => res.json()).then(books => {\n        if (books.length > 0) {\n          this.setState(_objectSpread({}, this.state, {\n            name: `Books Issued By ${books[0].sname}`\n          }));\n          books.forEach(el => this.setState({\n            books: [...this.state.books, React.createElement(\"tr\", {\n              key: el.id,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 34\n              },\n              __self: this\n            }, React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 35\n              },\n              __self: this\n            }, el.name.toUpperCase()), React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 36\n              },\n              __self: this\n            }, el.author), React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 37\n              },\n              __self: this\n            }, el.semester), React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 38\n              },\n              __self: this\n            }, el.date), React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 39\n              },\n              __self: this\n            }, el.deadline), React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 40\n              },\n              __self: this\n            }, React.createElement(\"button\", {\n              className: \"btn btn-primary\",\n              onClick: () => this.returnIt(el),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 40\n              },\n              __self: this\n            }, \"Return\")))]\n          }));\n        } else {\n          this.setState({\n            header: []\n          });\n          this.setState(_objectSpread({}, this.state, {\n            name: \"No Books Issued By The Student\"\n          }));\n        }\n      });\n    };\n\n    this.returnIt = el => {\n      fetch('/api/return', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(_objectSpread({}, el, {\n          sid: parseInt(document.getElementById('sid').value)\n        }))\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"return\",\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"form-control sel\",\n      type: \"number\",\n      placeholder: \"Enter Student ID\",\n      id: \"sid\",\n      min: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"btn btn-success\",\n      onClick: this.fetchData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Submit\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), this.state.name, React.createElement(\"table\", {\n      id: \"rResults\",\n      className: \"table table-hover\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, this.state.header, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, this.state.books)));\n  }\n\n}\n\nexport default Return;","map":{"version":3,"sources":["C:/Users/Ritwik/Downloads/jyoti/Library-Management-System-master/frontend/src/components/Return/Return.js"],"names":["React","Return","Component","state","header","books","name","fetchData","sid","document","getElementById","value","setState","fetch","then","res","json","length","sname","forEach","el","id","toUpperCase","author","semester","date","deadline","returnIt","method","headers","body","JSON","stringify","parseInt","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './Return.css';\r\n\r\nclass Return extends React.Component {\r\n    \r\n    state = {\r\n        header: <thead></thead>,\r\n        books: [],\r\n        name: ''\r\n    };\r\n\r\n    fetchData = () => {\r\n        var sid = document.getElementById('sid').value;\r\n        this.setState({header: <thead id=\"header\">\r\n                        <tr>\r\n                            <th scope=\"col\">Book Name</th>\r\n                            <th scope=\"col\">Author</th>\r\n                            <th scope=\"col\">Semester No</th>\r\n                            <th scope=\"col\">Issue Date</th>\r\n                            <th scope=\"col\">Return Deadline</th>\r\n                            <th scope=\"col\"></th>\r\n                        </tr>\r\n                    </thead>,\r\n            books: []});\r\n\r\n        fetch(`/api/getIssues/${sid}`)\r\n            .then(res => res.json())\r\n            .then(books => {\r\n                if(books.length > 0) {\r\n                    this.setState({...this.state, name: `Books Issued By ${books[0].sname}`});\r\n                    books.forEach(\r\n                        el => this.setState({\r\n                            books: [...this.state.books, \r\n                                    <tr key={el.id}>\r\n                                        <td>{el.name.toUpperCase()}</td>\r\n                                        <td>{el.author}</td>\r\n                                        <td>{el.semester}</td>\r\n                                        <td>{el.date}</td>\r\n                                        <td>{el.deadline}</td>\r\n                                        <td><button className=\"btn btn-primary\" onClick={() => this.returnIt(el)}>Return</button></td>\r\n                                    </tr>]\r\n                        }))\r\n                }\r\n                else{\r\n                    this.setState({header: []});\r\n                    this.setState({...this.state, name: \"No Books Issued By The Student\"});\r\n                }\r\n                });\r\n    }\r\n\r\n    returnIt = el => {\r\n        fetch('/api/return', {\r\n                method: 'post',\r\n                headers: {'Content-Type':'application/json'},\r\n                body: JSON.stringify({\r\n                    ...el,\r\n                    sid: parseInt(document.getElementById('sid').value)\r\n                })\r\n           });\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id='return' className=\"text-center\">\r\n                <div>\r\n                    <input className=\"form-control sel\" type=\"number\" placeholder=\"Enter Student ID\" id=\"sid\" min=\"1\"></input>\r\n                    <button className=\"btn btn-success\" onClick={this.fetchData}>Submit</button>\r\n                </div><br/>\r\n                {this.state.name}\r\n                <table id=\"rResults\" className=\"table table-hover\">\r\n                    {this.state.header}\r\n                    <tbody>\r\n                        {this.state.books}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default Return;"]},"metadata":{},"sourceType":"module"}